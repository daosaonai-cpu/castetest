<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C Programming Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .quiz-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            background-color: #ffffff;
        }
        .question-block {
            transition: background-color 0.3s ease;
        }
        .correct-answer {
            background-color: #d1fae5; /* Light green */
            border-left: 4px solid #10b981; /* Green */
        }
        .incorrect-answer {
            background-color: #fee2e2; /* Light red */
            border-left: 4px solid #ef4444; /* Red */
        }
        .timer {
            position: sticky;
            top: 0;
            z-index: 10;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="quizApp" class="container mx-auto p-4">

        <div class="quiz-container">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold text-gray-900">C Programming Quiz</h1>
                <p class="text-gray-600 mt-2">10 Questions | 2 Marks Each | 45 Minutes</p>
            </div>

            <!-- Timer -->
            <div id="timer-container" class="w-full bg-gray-200 rounded-full p-2 mb-8 text-center shadow-inner timer">
                <div class="bg-blue-600 text-lg font-semibold text-white py-2 rounded-full">
                    Time Remaining: <span id="time" class="font-mono">45:00</span>
                </div>
            </div>

            <!-- Quiz Form -->
            <form id="quizForm">
                <div id="questions-container" class="space-y-6">
                    <!-- Questions will be dynamically inserted here -->
                </div>
                <div class="mt-10 text-center">
                    <button type="submit" id="submitBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300">
                        Submit Quiz
                    </button>
                </div>
            </form>

            <!-- Results Section -->
            <div id="results-container" class="hidden mt-10">
                <div class="text-center p-6 bg-gray-50 rounded-lg shadow-md">
                    <h2 class="text-3xl font-bold text-gray-900">Quiz Complete!</h2>
                    <p class="text-xl mt-2">Your Final Score:</p>
                    <p class="text-5xl font-extrabold text-blue-600 my-4" id="score"></p>
                </div>
                <h3 class="text-2xl font-semibold mt-8 mb-4">Review Your Answers:</h3>
                <div id="results-details" class="space-y-4">
                    <!-- Detailed results and hints will be shown here -->
                </div>
                 <div class="mt-10 text-center">
                    <button id="retryBtn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300">
                        Try Again
                    </button>
                </div>
            </div>

        </div>
    </div>

    <script>
        const quizData = [
            {
                question: "1. C is a high-level, procedural programming language. True or False?",
                answerPatterns: [/true/i],
                hint: "C provides strong abstraction from the hardware, a key feature of high-level languages."
            },
            {
                question: "2. Who is credited with creating the C programming language?",
                answerPatterns: [/dennis\s*ritchie/i],
                hint: "He was an American computer scientist who developed C at Bell Labs in the early 1970s."
            },
            {
                question: "3. Why is C often referred to as a 'middle-level' language?",
                answerPatterns: [/low level.*high level/i, /high level.*low level/i, /both/i, /system programming/i, /memory access/i],
                hint: "It bridges the gap between machine-level languages and high-level languages."
            },
            {
                question: "4. What is the primary function of a compiler?",
                answerPatterns: [/translate/i, /convert/i, /source.*machine/i, /source.*object/i, /human.*computer/i],
                hint: "It translates the source code you write into a language the computer's processor can execute."
            },
            {
                question: "5. What are 'keywords' in C?",
                answerPatterns: [/reserved\s*word/i, /predefined/i, /special\s*meaning/i],
                hint: "These are words with a special meaning to the compiler, like `int`, `return`, or `if`."
            },
            {
                question: "6. What is the format specifier for a single character?",
                answerPatterns: [/%c/i],
                hint: "It starts with a '%' and is followed by the first letter of 'character'."
            },
            {
                question: "7. Which header file is required to use dynamic memory allocation functions like `malloc`?",
                answerPatterns: [/stdlib\.h/i, /standard library/i],
                hint: "This standard library header contains functions for memory allocation, process control, and conversions."
            },
            {
                question: "8. What keyword is used to exit from a loop or switch statement prematurely?",
                answerPatterns: [/break/i],
                hint: "You use this to 'break' out of the current loop or switch block."
            },
            {
                question: "9. How do you write a single-line comment in C?",
                answerPatterns: [/\/\//, /double forward slash/i],
                hint: "It involves two identical punctuation marks at the start of the comment."
            },
            {
                question: "10. What data type would you use to store a whole number like 42?",
                answerPatterns: [/int/i, /integer/i],
                hint: "It's the most common data type for whole numbers."
            }
        ];

        const questionsContainer = document.getElementById('questions-container');
        const quizForm = document.getElementById('quizForm');
        const resultsContainer = document.getElementById('results-container');
        const scoreElement = document.getElementById('score');
        const resultsDetails = document.getElementById('results-details');
        const timeElement = document.getElementById('time');
        const submitBtn = document.getElementById('submitBtn');
        const retryBtn = document.getElementById('retryBtn');

        let timer;
        let timeLeft = 45 * 60; // 45 minutes in seconds

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timeElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    submitQuiz();
                }
            }, 1000);
        }
        
        function loadQuestions() {
            questionsContainer.innerHTML = '';
            quizData.forEach((q, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'p-4 bg-white rounded-lg shadow';
                questionElement.innerHTML = `
                    <p class="font-semibold text-lg mb-3">${q.question}</p>
                    <input type="text" id="answer-${index}" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Type your answer here...">
                `;
                questionsContainer.appendChild(questionElement);
            });
        }

        function submitQuiz(event) {
            if(event) event.preventDefault();
            clearInterval(timer);

            let score = 0;
            resultsDetails.innerHTML = ''; 

            quizData.forEach((q, index) => {
                const userAnswer = document.getElementById(`answer-${index}`).value.trim();
                let isCorrect = q.answerPatterns.some(pattern => pattern.test(userAnswer));

                if (isCorrect) {
                    score += 2;
                }
                
                // Build result details
                const resultBlock = document.createElement('div');
                resultBlock.className = `p-4 rounded-lg question-block ${isCorrect ? 'correct-answer' : 'incorrect-answer'}`;
                
                let detailHTML = `
                    <p class="font-semibold">${q.question}</p>
                    <p class="mt-1"><strong>Your Answer:</strong> ${userAnswer || "<em>No answer provided</em>"}</p>
                `;

                if (!isCorrect) {
                    detailHTML += `<p class="mt-2 text-sm text-red-700"><strong>Hint:</strong> ${q.hint}</p>`;
                } else {
                     detailHTML += `<p class="mt-2 text-sm text-green-700"><strong>Status:</strong> Correct</p>`;
                }
                
                resultBlock.innerHTML = detailHTML;
                resultsDetails.appendChild(resultBlock);
            });

            scoreElement.textContent = `${score} / ${quizData.length * 2}`;
            quizForm.classList.add('hidden');
            document.getElementById('timer-container').classList.add('hidden');
            resultsContainer.classList.remove('hidden');
        }

        function resetQuiz() {
            timeLeft = 45 * 60;
            clearInterval(timer);
            startTimer();
            loadQuestions();
            quizForm.reset();
            resultsContainer.classList.add('hidden');
            quizForm.classList.remove('hidden');
            document.getElementById('timer-container').classList.remove('hidden');
        }

        // Event Listeners
        quizForm.addEventListener('submit', submitQuiz);
        retryBtn.addEventListener('click', resetQuiz);

        // Initial Load
        window.onload = () => {
            loadQuestions();
            startTimer();
        };

    </script>
</body>
</html>

